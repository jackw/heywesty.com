<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- CLEAN MARKUP = GOOD KARMA.
      Hi source code lover,

      you're a curious person and a fast learner ;)
      Let's make something beautiful together. Contribute on Github:
      https://github.com/webslides/webslides

      Thanks,
      @jlantunez.
    -->

    <!-- SEO -->
    <title>Grafana Presentation - Jack Westbrook</title>
    <meta name="description" content="Grafana presentation - Jack Westbrook" />

    <!-- URL CANONICAL -->
    <!-- <link rel="canonical" href="https://www.heywesty.com/grafana-presentation/"> -->

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext"
      rel="stylesheet"
    />

    <!-- CSS WebSlides -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="static/css/webslides.css"
    />

    <!-- Prism -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="static/css/prism.css"
    />
    <!-- Optional - CSS SVG Icons (Font Awesome) -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="static/css/svg-icons.css"
    />

    <!-- SOCIAL CARDS (ADD YOUR INFO) -->

    <!-- FACEBOOK -->
    <meta
      property="og:url"
      content="https://www.heywesty.com/grafana-presentation/"
    />
    <!-- YOUR URL -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Grafana Presentation - Jack Westbrook" />
    <!-- EDIT -->
    <meta
      property="og:description"
      content="Grafana presentation - Jack Westbrook"
    />
    <!-- EDIT -->
    <meta property="og:updated_time" content="2017-01-04T17:20:50" />

    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@heywesty" />
    <!-- EDIT -->
    <meta name="twitter:creator" content="@jackwestbrook" />
    <!-- EDIT -->
    <meta name="twitter:title" content="Grafana Presentation" />
    <!-- EDIT -->
    <meta
      name="twitter:description"
      content="Grafana presentation - Jack Westbrook"
    />

    <!-- FAVICONS -->
    <link
      rel="shortcut icon"
      sizes="16x16"
      href="static/images/favicons/favicon.png"
    />
    <link
      rel="shortcut icon"
      sizes="32x32"
      href="static/images/favicons/favicon-32.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="76x76"
      href="static/images/favicons/favicon-76.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="120x120"
      href="static/images/favicons/favicon-120.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="152x152"
      href="static/images/favicons/favicon-152.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="180x180"
      href="static/images/favicons/favicon-180.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="192x192"
      href="static/images/favicons/favicon-192.png"
    />

    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#333333" />
  </head>
  <body>
    <main role="main">
      <article id="webslides" class="bg-apple">
        <section class="aligncenter">
          <div
            class="background dark"
            style="background-image: url('static/images/alice-welcome.gif');"
          ></div>
          <div class="wrap">
            <img
              style="height: 100px;"
              src="static/images/grafana.svg"
              alt="grafana"
            />
            <p class="text-subtitle" style="margin-top: 1rem;">
              Grafana Presentation
            </p>
            <h1 class="text-uppercase" style="margin-top: 3rem;">
              An Adventure in Learningland!
            </h1>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <p class="text-emoji" style="margin-bottom: 0;">🔥</p>
            <h1 class="text-uppercase">Sass-Fire</h1>
            <div class="wrap size-50" style="margin-top: 2rem;">
              <p class="text-intro">
                Sass fire is an open source collection of Sass utility functions
                inspired by reading the Ramda docs and source code. More
                importantly this project is an exploration into learning by
                doing.
              </p>
              <small class="text-info"
                >(It's named after the evolution of man discovering fire. Plus
                emoji's are cool, right?)</small
              >
            </div>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>Why?</h1>
            <ul class="flexblock specs size-50">
              <li class="text-intro">
                I believe reading source code gives a developer a deeper
                understanding of the libraries they're using.
              </li>
              <li class="text-intro">
                Dependencies should be researched. Adding 3rd party libraries to
                a project can result in shipping bloat to a user.
              </li>
              <li class="text-intro">
                This isn't only about frontend. To create an open source package
                we also need to consider project documentation and
                infrastructure.
              </li>
              <li class="text-intro">
                Experiment with some tech I'm not familiar with.
              </li>
              <li class="text-intro">
                Learn something new and have fun along the way!
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div
            class="background dark"
            style="background-image: url('static/images/alice-mad.gif');"
          ></div>
          <div class="wrap">
            <h1>Is this a crazy idea?</h1>
            <ul class="flexblock specs size-50">
              <li class="text-intro">
                Potentially. If I want to use Ramda to build CSS frameworks I
                believe the quickest route is to use PostCSS.
              </li>
              <li class="text-intro">
                <p>
                  I'm not the only one to think of doing this. David Khourshid
                  wrote SassDash (a port of Lodash to Sass) a few years ago.
                  According to github insights - SassDash is currently
                  <strong>used by 176 repositories and 28 packages</strong>.
                </p>
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>Goals</h1>
            <ul class="flexblock specs size-50">
              <li class="text-intro">
                <p>
                  I would like a Sass library that
                  <strong>features Ramda's utility methods</strong> (as closely
                  as possible).
                </p>
              </li>
              <li class="text-intro">
                <p>
                  I would like a website that
                  <strong>documents the library</strong> storing a
                  <strong>history for every version</strong> of the package
                  released.
                </p>
              </li>
              <li class="text-intro">
                <p>
                  I would like a pipeline for
                  <strong>automated publishing</strong> and
                  <strong>updating documentation</strong>.
                </p>
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div
            class="background dark"
            style="background-image: url('static/images/alice-falling.gif');"
          ></div>
          <div class="wrap">
            <h1>Down the rabbit hole we go...</h1>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>The Sass library</h1>
            <ul class="flexblock border clients">
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/sass.svg"
                    alt="sass"
                  />
                  <figcaption>
                    <h3>Sass</h3>
                    <p>Compiles SCSS files to CSS.</p>
                  </figcaption>
                </figure>
              </li>
              <li class="flexblock">
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/jest.svg"
                    alt="jest"
                  />
                  <figcaption>
                    <h3>Jest</h3>
                    <p>Combined with SASS-TRUE for testing SCSS.</p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/sass-doc.svg"
                    alt="sass doc"
                  />
                  <figcaption>
                    <h3>SassDoc</h3>
                    <p>
                      Use annotations in comments to generate documentation.
                    </p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/stylelint.svg"
                    alt="stylelint"
                  />
                  <figcaption>
                    <h3>Stylelint</h3>
                    <p>Linter to keep our code looking smart.</p>
                  </figcaption>
                </figure>
              </li>
            </ul>
            <h3 style="margin-top: 5rem;">The approach...</h3>
            <ul class="flexblock steps">
              <li>
                <h2>Find a method in Ramda</h2>
                <p>Pick a method in the Ramda docs, read source code.</p>
              </li>
              <li>
                <h2>Copy Ramda unit tests</h2>
                <p>
                  Add the unit tests to Sass-Fire and update syntax for
                  Sass-True.
                </p>
              </li>
              <li>
                <h2>Code the equivalent in Sass</h2>
                <p>Try to match functionality in Sass-Fire.</p>
              </li>
              <li>
                <h2>Add DocBlock comments</h2>
                <p>Add comments using SassDoc.</p>
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>The Result</h1>
            <div class="grid vertical-align">
              <div class="column">
                <h4>
                  Sass unit tests
                </h4>
                <pre class="language-scss"><code>@import 'true';
@import '../src/partition';

@function isEven($n) {
    @return $n % 2 == 0;
}

@include describe('partition [function]') {
    @include it('should split the list according to the predicate') {
        @include assert-equal(
            partition(isEven, (1, 2, 3, 4)),
            ((2 4), (1 3))
        );
        @include assert-equal(
            partition(isEven, [0, 2, 4, 6]),
            ((0 2 4 6), ())
        );
        @include assert-equal(
            partition(isEven, [1, 3, 5, 7]),
            ((), (1 3 5 7))
        );
        @include assert-equal(
            partition(isEven, [0, 1, 2, 3]),
            ((0 2), (1 3))
        );
    }
}</code></pre>
              </div>
              <div class="column">
                <h4>Sass source code</h4>
                <pre class="language-scss"><code>
///
/// Takes a predicate and a list and returns a pair of filterable lists of the same type of
/// elements which do and do not satisfy, the predicate, respectively.
///
/// @group list
/// @param {Function} pred A predicate to determine which side the element belongs to.
/// @param {Array} filterable the list to partition.
/// @return {Array} An array, containing first the subset of elements that satisfy the
///  predicate, and second the subset of elements that do not satisfy.
/// @see filter
/// @see reject
///

@function partition($pred, $filterable) {
    $satisfy: ();
    $dissatisfy: ();
    @each $item in $filterable {
        $truthy: if(call(get-function($pred), $item), true, false);
        @if $truthy {
            $satisfy: append($satisfy, $item);
        } @else {
            $dissatisfy: append($dissatisfy, $item);
        }
    }
    @return ($satisfy, $dissatisfy);
}
</code></pre>
              </div>
            </div>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>The documentation site</h1>
            <ul class="flexblock border clients">
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/sass-doc.svg"
                    alt="sass doc"
                  />
                  <figcaption>
                    <h3>SassDoc</h3>
                    <p>Parse source code comments to generate docs.</p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/gatsby.svg"
                    alt="gatsby"
                  />
                  <figcaption>
                    <h3>Gatsby</h3>
                    <p>Static site generator using React and GraphQL.</p>
                  </figcaption>
                </figure>
              </li>
              <li class="flexblock">
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/mineral-ui.svg"
                    alt="mineral-ui"
                  />
                  <figcaption>
                    <h3>Mineral-ui</h3>
                    <p>React component library.</p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <p
                    style="height: 180px; margin-bottom: 0;"
                    class="aligncenter text-emoji"
                  >
                    👩‍🎤
                  </p>
                  <figcaption>
                    <h3>Emotion</h3>
                    <p>CSS-in-JS library for custom styles.</p>
                  </figcaption>
                </figure>
              </li>
            </ul>
            <h3 style="margin-top: 5rem;">The approach...</h3>
            <ul class="flexblock steps">
              <li>
                <h2>Generate JSON documentation</h2>
                <p>Write a Node script utilising Sassdoc to output JSON.</p>
              </li>
              <li>
                <h2>Push JSON into Gatsby</h2>
                <p>Use Gatsby's json source plugin to parse generated JSON.</p>
              </li>
              <li>
                <h2>Create React Template</h2>
                <p>
                  Create template using Mineral-ui components to render
                  documentation.
                </p>
              </li>
              <li>
                <h2>GraphQL -> React</h2>
                <p>
                  Use GraphQL query to get all nodes from JSON and push into the
                  template.
                </p>
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <div class="grid vertical-align text-cols">
              <div class="column">
                <h1>The result</h1>
                <p class="text-intro">
                  The documentation site looks 🍬 thanks to Gatsby and
                  Mineral-ui.
                </p>
                <p>
                  GraphQL allowed me to quickly add features like search and
                  version selection once the script to generate the JSON was
                  written.
                </p>
                <pre
                  class="language-javascript"
                ><code>// parse SCSS to generate JSON docs data...
sassdoc.parse(sassFirePath, { verbose: true, config: configFile })
  .then(data => {
    fs.writeFileSync(
      path.resolve(outputDir, `v${sassFirePackage.version}.json`),
      JSON.stringify({ "sass-fire": data }),
      "utf8"
    )
  })
  .catch(err => console.error(err))</code></pre>
              </div>
              <div class="column">
                <video
                  style="height: 720px;"
                  src="static/images/documentation.mp4"
                  autoplay
                  loop
                ></video>
              </div>
            </div>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1>The pipeline</h1>
            <ul class="flexblock border clients">
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/git.svg"
                    alt="git"
                  />
                  <figcaption>
                    <h3>Commitizen</h3>
                    <p>CLI for commit message conventions</p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/drone.svg"
                    alt="drone"
                  />
                  <figcaption>
                    <h3>Drone</h3>
                    <p>Continous delivery platform built on docker</p>
                  </figcaption>
                </figure>
              </li>
              <li class="flexblock">
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/semantic-release.png"
                    alt="semantic release"
                  />
                  <figcaption>
                    <h3>Semantic release</h3>
                    <p>Automated package release workflow.</p>
                  </figcaption>
                </figure>
              </li>
              <li>
                <figure>
                  <img
                    style="height: 180px;"
                    src="static/images/github.svg"
                    alt="renovate bot"
                  />
                  <figcaption>
                    <h3>Github Pages</h3>
                    <p>Host the built Gatsby output (HTML, CSS, JS).</p>
                  </figcaption>
                </figure>
              </li>
            </ul>
            <h3 style="margin-top: 5rem;">The approach...</h3>
            <ul class="flexblock steps">
              <li>
                <h2>Commit message conventions</h2>
                <p>
                  Use a convention for commit messages for semantic release to
                  understand.
                </p>
              </li>
              <li>
                <h2>Build the project</h2>
                <p>Use Drone to run linting, testing and publishing tasks.</p>
              </li>
              <li>
                <h2>Release the Project</h2>
                <p>
                  Use semantic release to version the package and publish to
                  NPM.
                </p>
              </li>
              <li>
                <h2>Build the documentation site</h2>
                <p>
                  On successful release trigger a rebuild of the docs website.
                </p>
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <div class="grid sm vertical-align text-cols">
              <div class="column">
                <h1>The result</h1>
                <p class="text-intro">
                  By writing commit messages with semver in mind we can take
                  advantage of semantic release to version and publish packages
                  appropriately.
                </p>
                <p class="text-intro">
                  Using Drone with Semantic release gives us a workflow that
                  meets the requirements for automated publishing and updating
                  documentation.
                </p>
              </div>
              <div class="column">
                <h3>Semantic Release</h3>
                <img
                  src="static/images/semver.png"
                  alt="semantic release example"
                  style="margin-top: 0;"
                />
                <h3>Pipeline</h3>
                <img
                  src="static/images/pipeline.svg"
                  alt="pipeline diagram"
                  style="background-color: #fff; padding: 2rem; margin-top: 0;"
                />
              </div>
            </div>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h1 class="aligncenter">Learnings...</h1>
            <div class="grid">
              <div class="column">
                <ul class="flexblock specs">
                  <li class="text-intro">
                    ❌ Ramda is all about currying. Sass cannot return a function from a
                    function. Sorry.
                  </li>
                  <li class="text-intro">
                    ❌ Because closures don't exist in Sass we have to store
                    references to arguments in globals to access them later in
                    other functions.
                  </li>
                  <li class="text-intro">
                    ✅ By making use of Sass-True and Jest I could code using
                    test driven development.
                  </li>
                  <li class="text-intro">
                    ✅ Refreshed my knowledge of Sass. Did you know sass has []
                    arrays?
                  </li>
                  <li class="text-intro">
                    ✅ Gatsby is amazing. Scaffold a site in minutes with
                    pluggable data management (GraphQL + gatsby source plugins)
                    and a view layer (React) making it very easy to put sites
                    together.
                  </li>
                  <li class="text-intro">
                    ✅/❌ Mineral-ui felt efficient to begin with. But became
                    frustrating later on when trying to customise certain parts.
                    E.g. a layout component that sets font-size.
                  </li>
                </ul>
              </div>
              <div class="column">
                <ul class="flexblock specs">
                  <li class="text-intro">
                    ❌ Easy to navigate documentation is key to adoption of any
                    open source project. I struggled a lot with Minerial-ui's
                    docs.
                  </li>
                  <li class="text-intro">
                    ✅ Semantic release generates release, changelog, publishes
                    package to npm, and adds comments on issues. ❤️
                  </li>
                  <li class="text-intro">
                    ✅ Drone-ci uses docker in docker so it can use any image
                    from the docker hub community. This made creating steps like
                    semantic-release a breeze.
                  </li>
                  <li class="text-intro">
                    ❌ Docker in Docker networking can be confusing. I spent a
                    lot of time figuring out why a step container couldn't
                    trigger the documentation site build
                  </li>
                  <li class="text-intro">
                    ✅ I have a CI server without any free tier limitations!!!!
                  </li>
                  <li class="text-intro">
                    😱 Don't do like me and set a semantic-release plugin
                    without reading the docs. They don't extend they override
                    completely.
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </section>
        <section class="aligncenter">
          <div
            class="background dark"
            style="background-image: url('static/images/alice-feedback.gif');"
          ></div>
          <div class="wrap">
            <h1>Feedback</h1>
            <ul class="flexblock specs size-50">
              <li class="text-intro">
                Most developers I've shown it to either star it on github out of
                curiosity or call me crazy!
              </li>
              <li class="text-intro">
                Some think it's going to make frameworks complicated. I don't
                think there's any harm in exposing some of the tools that we
                have in JS. Similar methods across languages can make code
                easier to read and more accessible to frontenders.
              </li>
            </ul>
          </div>
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h1 style="margin-bottom: 3rem;">Next Steps</h1>
            <p class="text-intro">
              I'm surprised how much fun I've had with this little project. I
              plan to bring as much usefulness from Ramda to this library.
            </p>
            <p class="text-intro">
              Expand the docs with a cookbook! Some examples of how a developer
              could use this to write a framework might help onboarding.
            </p>
            <p class="text-intro">
              I could package the sassdoc script I wrote as a gatsby source
              plugin. Maybe a frontend developer somewhere could find it useful?
              🤷‍♂️
            </p>
          </div>
        </section>
        <section class="aligncenter">
          <div
            class="background dark"
            style="background-image: url('static/images/alice-questions.gif');"
          ></div>
          <div class="wrap">
            <h1>Questions and Answers</h1>
          </div>
        </section>
      </article>
      <!-- end article -->
    </main>
    <!-- end main -->

    <!-- Required -->
    <script src="static/js/prism.js"></script>
    <script src="static/js/webslides.js"></script>
    <script>
      window.ws = new WebSlides({
        navigateOnScroll: false,
      });
    </script>

    <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
    <script defer src="static/js/svg-icons.js"></script>
    <!-- we need this for parcel to reload html.
      <script src="index.js"></script>
    -->
  </body>
</html>
